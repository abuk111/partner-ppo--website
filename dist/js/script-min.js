"use strict";var navHeight,headerDarkHeight,headerGreyHeight,burgerBtn=document.querySelector(".burger-btn"),burgerBars=document.querySelector(".burger-bar"),navbar=document.querySelector(".navbar"),navbarListItem=document.querySelectorAll(".navbar__list__elements"),nav=document.querySelector(".nav"),allSection=document.querySelectorAll(".section"),date=document.querySelector(".date"),sendBtn=document.querySelector(".form__formbox__send"),nameForm=document.querySelector("#name"),mailForm=document.querySelector("#mail"),phoneForm=document.querySelector("#phone"),messageForm=document.querySelector("#message"),form=document.querySelector("#contact-form"),popup=document.querySelector(".popup"),popupOk=document.querySelector(".ok"),popupError=document.querySelector(".error"),popupClose=document.querySelector(".popup__window-close"),allPlanImages=document.querySelectorAll(".plans__box-imagebox-img"),imageZoomSection=document.querySelector(".imagezoom"),imageZoom=document.querySelector(".imagezoom__image-img"),zoomCloseBtn=document.querySelector(".imagezoom__closebtn"),showNav=function(){navbar.classList.add("navbar-active"),navbar.classList.remove("navbar-hide"),burgerBars.classList.add("burger-active"),burgerBars.classList.remove("burger-back")},hideNav=function(){navbar.classList.remove("navbar-active"),navbar.classList.add("navbar-hide"),burgerBars.classList.remove("burger-active"),burgerBars.classList.add("burger-back")},navbarItemEntry=function(){var a=0;navbarListItem.forEach(function(e){e.classList.toggle("nav-entry"),e.style.animationDelay="."+a+"s",a++})},navHandling=function(){(navbar.classList.contains("navbar-active")?hideNav:showNav)(),navbarItemEntry(),navbarListItem.forEach(function(e){e.addEventListener("click",hideNav)})},navHighlight=function(e){switch(window.location.pathname){case"/index.html":navbarListItem.forEach(function(e){"mainPage"==e.children[0].id&&e.children[0].classList.add("link-active")});break;case"/uslugi.html":case"/instrukcje.html":case"/kontrole.html":case"/szkolenia.html":case"/plany.html":navbarListItem.forEach(function(e){"servicePage"==e.children[0].id&&e.children[0].classList.add("link-active")});break;case"/doswiadczenie.html":navbarListItem.forEach(function(e){"expPage"==e.children[0].id&&e.children[0].classList.add("link-active")});break;case"/faq.html":navbarListItem.forEach(function(e){"FAQPage"==e.children[0].id&&e.children[0].classList.add("link-active")});break;case"/kontakt.html":navbarListItem.forEach(function(e){"contactPage"==e.children[0].id&&e.children[0].classList.add("link-active")})}},handleDate=function(e){var a=(new Date).getFullYear();date.textContent=a},setNavHeight=function(){window.innerWidth<768?(navHeight=85,headerDarkHeight=245,headerGreyHeight=395):768<=window.innerWidth&&(navHeight=100,headerDarkHeight=310,headerGreyHeight=450)},headerBgAdd=function(){window.scrollY>headerDarkHeight?(nav.classList.add("nav-black-bgc"),nav.classList.remove("nav-dark-bgc"),nav.classList.remove("nav-medium-bgc")):window.scrollY<=headerDarkHeight&&(nav.classList.remove("nav-black-bgc"),nav.classList.remove("nav-dark-bgc"),nav.classList.remove("nav-medium-bgc")),window.scrollY>headerGreyHeight&&(nav.classList.remove("nav-black-bgc"),nav.classList.remove("nav-dark-bgc"),nav.classList.add("nav-medium-bgc"))},navBackgroundAddMobile=function(){var a=window.scrollY;setNavHeight(),allSection.forEach(function(e){e.classList.contains("header-bgc")?headerBgAdd():e.classList.contains("dark-bgc")&&e.offsetTop<=a+navHeight?(nav.classList.remove("nav-black-bgc"),nav.classList.add("nav-dark-bgc"),nav.classList.remove("nav-medium-bgc")):e.classList.contains("medium-bgc")&&e.offsetTop<=a+navHeight&&(nav.classList.remove("nav-black-bgc"),nav.classList.remove("nav-dark-bgc"),nav.classList.add("nav-medium-bgc"))})},navBackgroundAddDesktop=function(){var a=window.scrollY;setNavHeight(),allSection.forEach(function(e){e.classList.contains("medium-bgc")&&e.offsetTop<=a+navHeight?(navbar.classList.add("nav-dark-bgc"),navbar.classList.remove("nav-medium-bgc")):(e.classList.contains("dark-bgc")&&e.offsetTop<=a+navHeight||e.classList.contains("header-bgc"))&&(navbar.classList.remove("nav-dark-bgc"),navbar.classList.add("nav-medium-bgc"))})},checkInput=function(e){e.forEach(function(e){""===e.value?showError(e,e.placeholder):(clearError(e),e===mailForm?checkMail(e):e===phoneForm&&checkPhone(e))})},showError=function(e,a){e=e.parentElement.querySelector(".error-text");e.classList.add("show"),e.textContent=a},clearError=function(e){e=e.parentElement.querySelector(".error-text");e.classList.remove("show"),e.textContent="error"},checkMail=function(e){e.value=e.value.trim(),/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,3}))$/.test(e.value)?clearError(e):showError(e,"Podaj poprawny email!")},checkPhone=function(e){/^(?<!\w)(\(?(\+|00)?48\)?)?[ -]?\d{3}[ -]?\d{3}[ -]?\d{3}(?!\w)/.test(e.value)?clearError(e):showError(e,"Podaj poprawny telefon!")},checkErrors=function(e){var a=0;e.forEach(function(e){"error"!==e.parentElement.querySelector(".error-text").textContent&&a++}),0===a&&(a=0,console.log("start weryfikacji"),verifyCaptcha())},verifyForms=function(){checkInput([nameForm,mailForm,phoneForm,messageForm]),checkErrors([nameForm,mailForm,phoneForm,messageForm])},verifyCaptcha=function(){grecaptcha.execute(),popupOpen()},popupOpen=function(){popup.classList.add("popup-show"),showEmailConfirmation()},showEmailConfirmation=function(){"?mail_status=sent"===document.location.search&&(popupOk.style.display="flex",popupError.style.display="none"),"?mail_status=error"===document.location.search&&(popupOk.style.display="none",popupError.style.display="flex")},closePopup=function(){popup.classList.remove("popup-show")},zoomPlanImgMobile=function(e){e=e.src;window.open(e)},zoomPlanImgDesktop=function(e){e=e.src;imageZoomSection.classList.add("imagezoom-show"),imageZoom.setAttribute("src",e)},closeZoomSection=function(){imageZoomSection.classList.remove("imagezoom-show"),imageZoom.setAttribute("src","")},zoomImg=function(e){var a=e.clientX,e=e.clientY,o=imageZoom.offsetLeft+(imageZoomSection.offsetLeft-imageZoomSection.offsetWidth/2),e=-1*(imageZoom.offsetTop+(imageZoomSection.offsetTop-imageZoomSection.offsetHeight/2)-e);imageZoom.style.transformOrigin="".concat(-1*(o-a),"px ").concat(e,"px"),imageZoom.classList.add("zoomed-image")},resetImg=function(){imageZoom.classList.remove("zoomed-image")};burgerBtn.addEventListener("click",navHandling),window.addEventListener("scroll",function(){(window.innerWidth<992?navBackgroundAddMobile:navBackgroundAddDesktop)()}),handleDate(),navHighlight(),allPlanImages&&allPlanImages.forEach(function(a){a.addEventListener("click",function(e){(window.innerWidth<1200?zoomPlanImgMobile:zoomPlanImgDesktop)(a)})}),imageZoom&&(imageZoom.addEventListener("mousemove",zoomImg),imageZoom.addEventListener("mouseout",resetImg)),zoomCloseBtn&&zoomCloseBtn.addEventListener("click",closeZoomSection),sendBtn&&sendBtn.addEventListener("click",function(e){e.preventDefault(),verifyForms()}),popupClose&&popupClose.addEventListener("click",closePopup);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJhbGxTZWN0aW9uIiwibmF2SGVpZ2h0IiwiaGVhZGVyRGFya0hlaWdodCIsImJ1cmdlckJ0biIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImJ1cmdlckJhcnMiLCJuYXZiYXJMaXN0SXRlbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJuYXYiLCJkYXRlIiwic2VuZEJ0biIsIm5hbWVGb3JtIiwibWFpbEZvcm0iLCJwaG9uZUZvcm0iLCJtZXNzYWdlRm9ybSIsImZvcm0iLCJwb3B1cE9rIiwicG9wdXBFcnJvciIsInBvcHVwQ2xvc2UiLCJpbWFnZVpvb21TZWN0aW9uIiwiaW1hZ2Vab29tIiwiem9vbUNsb3NlQnRuIiwibmF2YmFyIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwiaXRlbSIsImZvckVhY2giLCJ0b2dnbGUiLCJzdHlsZSIsImFuaW1hdGlvbkRlbGF5IiwiZGVsYXlUaW1lIiwibmF2SGFuZGxpbmciLCJoaWRlTmF2IiwiY29udGFpbnMiLCJuYXZiYXJJdGVtRW50cnkiLCJhZGRFdmVudExpc3RlbmVyIiwiY2hpbGRyZW4iLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwiaWQiLCJoYW5kbGVEYXRlIiwicGFyYW1zIiwiY3VycmVudFllYXIiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJzZXROYXZIZWlnaHQiLCJpbm5lcldpZHRoIiwiaGVhZGVyR3JleUhlaWdodCIsIndpbmRvdyIsImhlYWRlckJnQWRkIiwic2Nyb2xsWSIsIm5hdkJhY2tncm91bmRBZGRNb2JpbGUiLCJjdXJyZW50U2VjdGlvbiIsInNlY3Rpb24iLCJvZmZzZXRUb3AiLCJuYXZCYWNrZ3JvdW5kQWRkRGVza3RvcCIsImNoZWNrSW5wdXQiLCJ2YWx1ZSIsInNob3dFcnJvciIsImVsIiwicGxhY2Vob2xkZXIiLCJjbGVhckVycm9yIiwiaW5wdXQiLCJpbnB1dEJveCIsImVycm9yTXNnIiwidGV4dENvbnRlbnQiLCJjaGVja1Bob25lIiwiZW1haWwiLCJtc2ciLCJyZSIsInBob25lIiwiZXJyb3JDb3VudCIsInRyaW0iLCJ2ZXJpZnlDYXB0Y2hhIiwiY2hlY2tFcnJvcnMiLCJncmVjYXB0Y2hhIiwiZXhlY3V0ZSIsInBvcHVwT3BlbiIsInBvcHVwIiwic2hvd0VtYWlsQ29uZmlybWF0aW9uIiwiY29uc29sZSIsInpvb21QbGFuSW1nTW9iaWxlIiwiaW1hZ2UiLCJzcmMiLCJvcGVuIiwic2V0QXR0cmlidXRlIiwieSIsInNlYXJjaCIsImRpc3BsYXkiLCJvZmZzZXRMZWZ0IiwiaW1nWCIsInJlc2V0SW1nIiwiem9vbVBsYW5JbWdEZXNrdG9wIiwibmF2SGlnaGxpZ2h0IiwiYWxsUGxhbkltYWdlcyIsImNsb3NlWm9vbVNlY3Rpb24iLCJpbWciLCJ6b29tSW1nIiwiZSIsIngiLCJjbGllbnRYIiwiY2xpZW50WSIsIm9mZnNldFdpZHRoIiwib2Zmc2V0SGVpZ2h0IiwidmVyaWZ5Rm9ybXMiLCJ0cmFuc2Zvcm1PcmlnaW4iLCJjb25jYXQiLCJuZXdZIiwicHJldmVudERlZmF1bHQiLCJjbG9zZVBvcHVwIl0sIm1hcHBpbmdzIjoiYUFBQSxJQVFNQSxVQUNGQyxpQkFDQUMsaUJBVkpDLFVBQUFDLFNBQUFDLGNBQUEsYUFBQSxFQUdNQyxXQUFhRixTQUFTQyxjQUFjLGFBQWEsRUFEakRGLE9BQVNDLFNBQVdDLGNBQWMsU0FBQyxFQUNuQ0MsZUFBYUYsU0FBU0MsaUJBQWMseUJBQWMsRUFFbERFLElBQUFBLFNBQWlCSCxjQUFTSSxNQUFBQSxFQUUxQkMsV0FBZUosU0FBQUEsaUJBQXFCLFVBQUEsRUFNcENLLEtBQU9OLFNBQVNDLGNBQWMsT0FBUSxFQUl0Q00sUUFBVVAsU0FBU0MsY0FBYyxzQkFBdUIsRUFDeERPLFNBQVdSLFNBQVNDLGNBQWMsT0FBUSxFQUMxQ1EsU0FBV1QsU0FBU0MsY0FBYyxPQUFRLEVBQzFDUyxVQUFZVixTQUFTQyxjQUFjLFFBQVMsRUFDNUNVLFlBQWNYLFNBQVNDLGNBQWMsVUFBVyxFQUVoRFcsS0FBT1osU0FBU0MsY0FBYyxl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RCBCVVJHRVIgVkFSSUFCTEVTXHJcblxyXG5jb25zdCBidXJnZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnVyZ2VyLWJ0bicpXHJcbmNvbnN0IGJ1cmdlckJhcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnVyZ2VyLWJhcicpXHJcbmNvbnN0IG5hdmJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZiYXInKVxyXG5jb25zdCBuYXZiYXJMaXN0SXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZiYXJfX2xpc3RfX2VsZW1lbnRzJylcclxuXHJcbmNvbnN0IG5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXYnKVxyXG5jb25zdCBhbGxTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlY3Rpb24nKVxyXG5sZXQgbmF2SGVpZ2h0XHJcbmxldCBoZWFkZXJEYXJrSGVpZ2h0XHJcbmxldCBoZWFkZXJHcmV5SGVpZ2h0XHJcblxyXG5jb25zdCBkYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRhdGUnKVxyXG5cclxuLy8gRk9STSBWQVJJQUJMRVNcclxuXHJcbmNvbnN0IHNlbmRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybV9fZm9ybWJveF9fc2VuZCcpXHJcbmNvbnN0IG5hbWVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25hbWUnKVxyXG5jb25zdCBtYWlsRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtYWlsJylcclxuY29uc3QgcGhvbmVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Bob25lJylcclxuY29uc3QgbWVzc2FnZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWVzc2FnZScpXHJcblxyXG5jb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvbnRhY3QtZm9ybScpXHJcblxyXG4vLyBDT05UQUNUIFBPUFVQIC0gVkFSSUFCTEVTXHJcblxyXG5jb25zdCBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cCcpXHJcbmNvbnN0IHBvcHVwT2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub2snKVxyXG5jb25zdCBwb3B1cEVycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVycm9yJylcclxuY29uc3QgcG9wdXBDbG9zZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fd2luZG93LWNsb3NlJylcclxuXHJcbi8vIFpPT00gRVZBQ1VBVElPTiBQTEFOIElNQUdFUyAtIFZBUklBQkxFU1xyXG5cclxuY29uc3QgYWxsUGxhbkltYWdlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wbGFuc19fYm94LWltYWdlYm94LWltZycpXHJcbmNvbnN0IGltYWdlWm9vbVNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW1hZ2V6b29tJylcclxuY29uc3QgaW1hZ2Vab29tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmltYWdlem9vbV9faW1hZ2UtaW1nJylcclxuY29uc3Qgem9vbUNsb3NlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmltYWdlem9vbV9fY2xvc2VidG4nKVxyXG5cclxuLy9OQVZJR0FUSU9OIEFORCBCVVJHRVIgQlVUVE9OXHJcblxyXG5jb25zdCBzaG93TmF2ID0gKCkgPT4ge1xyXG5cdG5hdmJhci5jbGFzc0xpc3QuYWRkKCduYXZiYXItYWN0aXZlJylcclxuXHRuYXZiYXIuY2xhc3NMaXN0LnJlbW92ZSgnbmF2YmFyLWhpZGUnKVxyXG5cdGJ1cmdlckJhcnMuY2xhc3NMaXN0LmFkZCgnYnVyZ2VyLWFjdGl2ZScpXHJcblx0YnVyZ2VyQmFycy5jbGFzc0xpc3QucmVtb3ZlKCdidXJnZXItYmFjaycpXHJcbn1cclxuY29uc3QgaGlkZU5hdiA9ICgpID0+IHtcclxuXHRuYXZiYXIuY2xhc3NMaXN0LnJlbW92ZSgnbmF2YmFyLWFjdGl2ZScpXHJcblx0bmF2YmFyLmNsYXNzTGlzdC5hZGQoJ25hdmJhci1oaWRlJylcclxuXHRidXJnZXJCYXJzLmNsYXNzTGlzdC5yZW1vdmUoJ2J1cmdlci1hY3RpdmUnKVxyXG5cdGJ1cmdlckJhcnMuY2xhc3NMaXN0LmFkZCgnYnVyZ2VyLWJhY2snKVxyXG59XHJcblxyXG5jb25zdCBuYXZiYXJJdGVtRW50cnkgPSAoKSA9PiB7XHJcblx0bGV0IGRlbGF5VGltZSA9IDBcclxuXHJcblx0bmF2YmFyTGlzdEl0ZW0uZm9yRWFjaChpdGVtID0+IHtcclxuXHRcdGl0ZW0uY2xhc3NMaXN0LnRvZ2dsZSgnbmF2LWVudHJ5JylcclxuXHRcdGl0ZW0uc3R5bGUuYW5pbWF0aW9uRGVsYXkgPSAnLicgKyBkZWxheVRpbWUgKyAncydcclxuXHRcdGRlbGF5VGltZSsrXHJcblx0fSlcclxufVxyXG5cclxuY29uc3QgbmF2SGFuZGxpbmcgPSAoKSA9PiB7XHJcblx0aWYgKCFuYXZiYXIuY2xhc3NMaXN0LmNvbnRhaW5zKCduYXZiYXItYWN0aXZlJykpIHtcclxuXHRcdHNob3dOYXYoKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRoaWRlTmF2KClcclxuXHR9XHJcblx0bmF2YmFySXRlbUVudHJ5KClcclxuXHRuYXZiYXJMaXN0SXRlbS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG5cdFx0aXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhpZGVOYXYpXHJcblx0fSlcclxufVxyXG5cclxuLy8gQ1VSUkVOVCBQQUdFIE5BVklHQVRJT04gSElHSExJR0hUXHJcblxyXG5jb25zdCBuYXZIaWdobGlnaHQgPSBwYXJhbXMgPT4ge1xyXG5cdGNvbnN0IGN1cnJlbnRQYWdlID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lXHJcblxyXG5cdHN3aXRjaCAoY3VycmVudFBhZ2UpIHtcclxuXHRcdGNhc2UgJy9pbmRleC5odG1sJzpcclxuXHRcdFx0bmF2YmFyTGlzdEl0ZW0uZm9yRWFjaChpdGVtID0+IHtcclxuXHRcdFx0XHRpZiAoaXRlbS5jaGlsZHJlblswXS5pZCA9PSAnbWFpblBhZ2UnKSB7XHJcblx0XHRcdFx0XHRpdGVtLmNoaWxkcmVuWzBdLmNsYXNzTGlzdC5hZGQoJ2xpbmstYWN0aXZlJylcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHRcdGJyZWFrXHJcblx0XHRjYXNlICcvdXNsdWdpLmh0bWwnOlxyXG5cdFx0Y2FzZSAnL2luc3RydWtjamUuaHRtbCc6XHJcblx0XHRjYXNlICcva29udHJvbGUuaHRtbCc6XHJcblx0XHRjYXNlICcvc3prb2xlbmlhLmh0bWwnOlxyXG5cdFx0Y2FzZSAnL3BsYW55Lmh0bWwnOlxyXG5cdFx0XHRuYXZiYXJMaXN0SXRlbS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG5cdFx0XHRcdGlmIChpdGVtLmNoaWxkcmVuWzBdLmlkID09ICdzZXJ2aWNlUGFnZScpIHtcclxuXHRcdFx0XHRcdGl0ZW0uY2hpbGRyZW5bMF0uY2xhc3NMaXN0LmFkZCgnbGluay1hY3RpdmUnKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdFx0YnJlYWtcclxuXHRcdGNhc2UgJy9kb3N3aWFkY3plbmllLmh0bWwnOlxyXG5cdFx0XHRuYXZiYXJMaXN0SXRlbS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG5cdFx0XHRcdGlmIChpdGVtLmNoaWxkcmVuWzBdLmlkID09ICdleHBQYWdlJykge1xyXG5cdFx0XHRcdFx0aXRlbS5jaGlsZHJlblswXS5jbGFzc0xpc3QuYWRkKCdsaW5rLWFjdGl2ZScpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdFx0XHRicmVha1xyXG5cdFx0Y2FzZSAnL2ZhcS5odG1sJzpcclxuXHRcdFx0bmF2YmFyTGlzdEl0ZW0uZm9yRWFjaChpdGVtID0+IHtcclxuXHRcdFx0XHRpZiAoaXRlbS5jaGlsZHJlblswXS5pZCA9PSAnRkFRUGFnZScpIHtcclxuXHRcdFx0XHRcdGl0ZW0uY2hpbGRyZW5bMF0uY2xhc3NMaXN0LmFkZCgnbGluay1hY3RpdmUnKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdFx0YnJlYWtcclxuXHRcdGNhc2UgJy9rb250YWt0Lmh0bWwnOlxyXG5cdFx0XHRuYXZiYXJMaXN0SXRlbS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG5cdFx0XHRcdGlmIChpdGVtLmNoaWxkcmVuWzBdLmlkID09ICdjb250YWN0UGFnZScpIHtcclxuXHRcdFx0XHRcdGl0ZW0uY2hpbGRyZW5bMF0uY2xhc3NMaXN0LmFkZCgnbGluay1hY3RpdmUnKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdFx0YnJlYWtcclxuXHR9XHJcbn1cclxuXHJcbi8vIFNIT1cgQ1VSUkVOVCBZRUFSIElOIEZPT1RFUlxyXG5cclxuY29uc3QgaGFuZGxlRGF0ZSA9IHBhcmFtcyA9PiB7XHJcblx0Y29uc3QgY3VycmVudFllYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKClcclxuXHRkYXRlLnRleHRDb250ZW50ID0gY3VycmVudFllYXJcclxufVxyXG5cclxuLy8gQ0hBTkdFIE5BVklHQVRJT04gQkFDS0dST1VORCBDT0xPUlxyXG5cclxuY29uc3Qgc2V0TmF2SGVpZ2h0ID0gKCkgPT4ge1xyXG5cdGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IDc2OCkge1xyXG5cdFx0bmF2SGVpZ2h0ID0gODVcclxuXHRcdGhlYWRlckRhcmtIZWlnaHQgPSAyNDVcclxuXHRcdGhlYWRlckdyZXlIZWlnaHQgPSAzOTVcclxuXHR9IGVsc2UgaWYgKHdpbmRvdy5pbm5lcldpZHRoID49IDc2OCkge1xyXG5cdFx0bmF2SGVpZ2h0ID0gMTAwXHJcblx0XHRoZWFkZXJEYXJrSGVpZ2h0ID0gMzEwXHJcblx0XHRoZWFkZXJHcmV5SGVpZ2h0ID0gNDUwXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBoZWFkZXJCZ0FkZCA9ICgpID0+IHtcclxuXHRpZiAod2luZG93LnNjcm9sbFkgPiBoZWFkZXJEYXJrSGVpZ2h0KSB7XHJcblx0XHRuYXYuY2xhc3NMaXN0LmFkZCgnbmF2LWJsYWNrLWJnYycpXHJcblx0XHRuYXYuY2xhc3NMaXN0LnJlbW92ZSgnbmF2LWRhcmstYmdjJylcclxuXHRcdG5hdi5jbGFzc0xpc3QucmVtb3ZlKCduYXYtbWVkaXVtLWJnYycpXHJcblx0fSBlbHNlIGlmICh3aW5kb3cuc2Nyb2xsWSA8PSBoZWFkZXJEYXJrSGVpZ2h0KSB7XHJcblx0XHRuYXYuY2xhc3NMaXN0LnJlbW92ZSgnbmF2LWJsYWNrLWJnYycpXHJcblx0XHRuYXYuY2xhc3NMaXN0LnJlbW92ZSgnbmF2LWRhcmstYmdjJylcclxuXHRcdG5hdi5jbGFzc0xpc3QucmVtb3ZlKCduYXYtbWVkaXVtLWJnYycpXHJcblx0fVxyXG5cdGlmICh3aW5kb3cuc2Nyb2xsWSA+IGhlYWRlckdyZXlIZWlnaHQpIHtcclxuXHRcdG5hdi5jbGFzc0xpc3QucmVtb3ZlKCduYXYtYmxhY2stYmdjJylcclxuXHRcdG5hdi5jbGFzc0xpc3QucmVtb3ZlKCduYXYtZGFyay1iZ2MnKVxyXG5cdFx0bmF2LmNsYXNzTGlzdC5hZGQoJ25hdi1tZWRpdW0tYmdjJylcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IG5hdkJhY2tncm91bmRBZGRNb2JpbGUgPSAoKSA9PiB7XHJcblx0Y29uc3QgY3VycmVudFNlY3Rpb24gPSB3aW5kb3cuc2Nyb2xsWVxyXG5cdHNldE5hdkhlaWdodCgpXHJcblxyXG5cdGFsbFNlY3Rpb24uZm9yRWFjaChzZWN0aW9uID0+IHtcclxuXHRcdGlmIChzZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucygnaGVhZGVyLWJnYycpKSB7XHJcblx0XHRcdGhlYWRlckJnQWRkKClcclxuXHRcdH0gZWxzZSBpZiAoc2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2RhcmstYmdjJykgJiYgc2VjdGlvbi5vZmZzZXRUb3AgPD0gY3VycmVudFNlY3Rpb24gKyBuYXZIZWlnaHQpIHtcclxuXHRcdFx0bmF2LmNsYXNzTGlzdC5yZW1vdmUoJ25hdi1ibGFjay1iZ2MnKVxyXG5cdFx0XHRuYXYuY2xhc3NMaXN0LmFkZCgnbmF2LWRhcmstYmdjJylcclxuXHRcdFx0bmF2LmNsYXNzTGlzdC5yZW1vdmUoJ25hdi1tZWRpdW0tYmdjJylcclxuXHRcdH0gZWxzZSBpZiAoc2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJ21lZGl1bS1iZ2MnKSAmJiBzZWN0aW9uLm9mZnNldFRvcCA8PSBjdXJyZW50U2VjdGlvbiArIG5hdkhlaWdodCkge1xyXG5cdFx0XHRuYXYuY2xhc3NMaXN0LnJlbW92ZSgnbmF2LWJsYWNrLWJnYycpXHJcblx0XHRcdG5hdi5jbGFzc0xpc3QucmVtb3ZlKCduYXYtZGFyay1iZ2MnKVxyXG5cdFx0XHRuYXYuY2xhc3NMaXN0LmFkZCgnbmF2LW1lZGl1bS1iZ2MnKVxyXG5cdFx0fVxyXG5cdH0pXHJcbn1cclxuXHJcbmNvbnN0IG5hdkJhY2tncm91bmRBZGREZXNrdG9wID0gKCkgPT4ge1xyXG5cdGNvbnN0IGN1cnJlbnRTZWN0aW9uID0gd2luZG93LnNjcm9sbFlcclxuXHRzZXROYXZIZWlnaHQoKVxyXG5cclxuXHRhbGxTZWN0aW9uLmZvckVhY2goc2VjdGlvbiA9PiB7XHJcblx0XHRpZiAoc2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJ21lZGl1bS1iZ2MnKSAmJiBzZWN0aW9uLm9mZnNldFRvcCA8PSBjdXJyZW50U2VjdGlvbiArIG5hdkhlaWdodCkge1xyXG5cdFx0XHRuYXZiYXIuY2xhc3NMaXN0LmFkZCgnbmF2LWRhcmstYmdjJylcclxuXHRcdFx0bmF2YmFyLmNsYXNzTGlzdC5yZW1vdmUoJ25hdi1tZWRpdW0tYmdjJylcclxuXHRcdH0gZWxzZSBpZiAoXHJcblx0XHRcdChzZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucygnZGFyay1iZ2MnKSAmJiBzZWN0aW9uLm9mZnNldFRvcCA8PSBjdXJyZW50U2VjdGlvbiArIG5hdkhlaWdodCkgfHxcclxuXHRcdFx0c2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2hlYWRlci1iZ2MnKVxyXG5cdFx0KSB7XHJcblx0XHRcdG5hdmJhci5jbGFzc0xpc3QucmVtb3ZlKCduYXYtZGFyay1iZ2MnKVxyXG5cdFx0XHRuYXZiYXIuY2xhc3NMaXN0LmFkZCgnbmF2LW1lZGl1bS1iZ2MnKVxyXG5cdFx0fVxyXG5cdH0pXHJcbn1cclxuXHJcbi8vIENPTlRBQ1QgRk9STSBWQUxJREFUSU9OXHJcblxyXG5jb25zdCBjaGVja0lucHV0ID0gaW5wdXQgPT4ge1xyXG5cdGlucHV0LmZvckVhY2goZWwgPT4ge1xyXG5cdFx0aWYgKGVsLnZhbHVlID09PSAnJykge1xyXG5cdFx0XHRzaG93RXJyb3IoZWwsIGVsLnBsYWNlaG9sZGVyKVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y2xlYXJFcnJvcihlbClcclxuXHRcdFx0aWYgKGVsID09PSBtYWlsRm9ybSkge1xyXG5cdFx0XHRcdGNoZWNrTWFpbChlbClcclxuXHRcdFx0fSBlbHNlIGlmIChlbCA9PT0gcGhvbmVGb3JtKSB7XHJcblx0XHRcdFx0Y2hlY2tQaG9uZShlbClcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0pXHJcbn1cclxuXHJcbmNvbnN0IHNob3dFcnJvciA9IChpbnB1dCwgbXNnKSA9PiB7XHJcblx0Y29uc3QgaW5wdXRCb3ggPSBpbnB1dC5wYXJlbnRFbGVtZW50XHJcblx0Y29uc3QgZXJyb3JNc2cgPSBpbnB1dEJveC5xdWVyeVNlbGVjdG9yKCcuZXJyb3ItdGV4dCcpXHJcblxyXG5cdGVycm9yTXNnLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKVxyXG5cdGVycm9yTXNnLnRleHRDb250ZW50ID0gbXNnXHJcbn1cclxuXHJcbmNvbnN0IGNsZWFyRXJyb3IgPSBpbnB1dCA9PiB7XHJcblx0Y29uc3QgaW5wdXRCb3ggPSBpbnB1dC5wYXJlbnRFbGVtZW50XHJcblx0Y29uc3QgZXJyb3JNc2cgPSBpbnB1dEJveC5xdWVyeVNlbGVjdG9yKCcuZXJyb3ItdGV4dCcpXHJcblxyXG5cdGVycm9yTXNnLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKVxyXG5cdGVycm9yTXNnLnRleHRDb250ZW50ID0gJ2Vycm9yJ1xyXG59XHJcblxyXG5jb25zdCBjaGVja01haWwgPSBlbWFpbCA9PiB7XHJcblx0Y29uc3QgcmUgPVxyXG5cdFx0L14oKFtePD4oKVtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVtcXF1cXFxcLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXF0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLDN9KSkkL1xyXG5cclxuXHRlbWFpbC52YWx1ZSA9IGVtYWlsLnZhbHVlLnRyaW0oKVxyXG5cclxuXHRpZiAocmUudGVzdChlbWFpbC52YWx1ZSkpIHtcclxuXHRcdGNsZWFyRXJyb3IoZW1haWwpXHJcblx0fSBlbHNlIHtcclxuXHRcdHNob3dFcnJvcihlbWFpbCwgJ1BvZGFqIHBvcHJhd255IGVtYWlsIScpXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBjaGVja1Bob25lID0gcGhvbmUgPT4ge1xyXG5cdGNvbnN0IHJlID0gL14oPzwhXFx3KShcXCg/KFxcK3wwMCk/NDhcXCk/KT9bIC1dP1xcZHszfVsgLV0/XFxkezN9WyAtXT9cXGR7M30oPyFcXHcpL1xyXG5cclxuXHRpZiAocmUudGVzdChwaG9uZS52YWx1ZSkpIHtcclxuXHRcdGNsZWFyRXJyb3IocGhvbmUpXHJcblx0fSBlbHNlIHtcclxuXHRcdHNob3dFcnJvcihwaG9uZSwgJ1BvZGFqIHBvcHJhd255IHRlbGVmb24hJylcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGNoZWNrRXJyb3JzID0gaW5wdXQgPT4ge1xyXG5cdGxldCBlcnJvckNvdW50ID0gMFxyXG5cclxuXHRpbnB1dC5mb3JFYWNoKGVsID0+IHtcclxuXHRcdGlmIChlbC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lcnJvci10ZXh0JykudGV4dENvbnRlbnQgIT09ICdlcnJvcicpIHtcclxuXHRcdFx0ZXJyb3JDb3VudCsrXHJcblx0XHR9XHJcblx0fSlcclxuXHRpZiAoZXJyb3JDb3VudCA9PT0gMCkge1xyXG5cdFx0ZXJyb3JDb3VudCA9IDBcclxuXHRcdGNvbnNvbGUubG9nKCdzdGFydCB3ZXJ5ZmlrYWNqaScpXHJcblx0XHR2ZXJpZnlDYXB0Y2hhKClcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IHZlcmlmeUZvcm1zID0gKCkgPT4ge1xyXG5cdGNoZWNrSW5wdXQoW25hbWVGb3JtLCBtYWlsRm9ybSwgcGhvbmVGb3JtLCBtZXNzYWdlRm9ybV0pXHJcblx0Y2hlY2tFcnJvcnMoW25hbWVGb3JtLCBtYWlsRm9ybSwgcGhvbmVGb3JtLCBtZXNzYWdlRm9ybV0pXHJcbn1cclxuXHJcbmNvbnN0IHZlcmlmeUNhcHRjaGEgPSAoKSA9PiB7XHJcblx0Z3JlY2FwdGNoYS5leGVjdXRlKClcclxuXHRwb3B1cE9wZW4oKVxyXG5cclxuXHRcclxufVxyXG5cclxuXHJcblxyXG4vLyBQT1BVUFxyXG5cclxuY29uc3QgcG9wdXBPcGVuID0gKCkgPT4ge1xyXG5cdHBvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwLXNob3cnKVxyXG5cdHNob3dFbWFpbENvbmZpcm1hdGlvbigpXHJcbn1cclxuXHJcbmNvbnN0IHNob3dFbWFpbENvbmZpcm1hdGlvbiA9ICgpID0+IHtcclxuXHRpZiAoZG9jdW1lbnQubG9jYXRpb24uc2VhcmNoID09PSAnP21haWxfc3RhdHVzPXNlbnQnKSB7XHJcblx0XHRwb3B1cE9rLnN0eWxlLmRpc3BsYXkgPSAnZmxleCdcclxuXHRcdHBvcHVwRXJyb3Iuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG5cdH1cclxuXHJcblx0aWYgKGRvY3VtZW50LmxvY2F0aW9uLnNlYXJjaCA9PT0gJz9tYWlsX3N0YXR1cz1lcnJvcicpIHtcclxuXHRcdHBvcHVwT2suc3R5bGUuZGlzcGxheSA9ICdub25lJ1xyXG5cdFx0cG9wdXBFcnJvci5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBjbG9zZVBvcHVwID0gKCkgPT4ge1xyXG5cdHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwLXNob3cnKVxyXG59XHJcblxyXG4vLyBaT09NIElNQUdFUyBPRiBFVkFDVUFUSU9OIFBMQU5cclxuXHJcbmNvbnN0IHpvb21QbGFuSW1nTW9iaWxlID0gaW1hZ2UgPT4ge1xyXG5cdGNvbnN0IHNyYyA9IGltYWdlLnNyY1xyXG5cclxuXHR3aW5kb3cub3BlbihzcmMpXHJcbn1cclxuXHJcbmNvbnN0IHpvb21QbGFuSW1nRGVza3RvcCA9IGltYWdlID0+IHtcclxuXHRjb25zdCBzcmMgPSBpbWFnZS5zcmNcclxuXHJcblx0aW1hZ2Vab29tU2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdpbWFnZXpvb20tc2hvdycpXHJcblx0aW1hZ2Vab29tLnNldEF0dHJpYnV0ZSgnc3JjJywgc3JjKVxyXG59XHJcblxyXG5jb25zdCBjbG9zZVpvb21TZWN0aW9uID0gKCkgPT4ge1xyXG5cdGltYWdlWm9vbVNlY3Rpb24uY2xhc3NMaXN0LnJlbW92ZSgnaW1hZ2V6b29tLXNob3cnKVxyXG5cdGltYWdlWm9vbS5zZXRBdHRyaWJ1dGUoJ3NyYycsICcnKVxyXG59XHJcblxyXG5jb25zdCB6b29tSW1nID0gZSA9PiB7XHJcblx0Ly93c2thenVqZSBwb3p5Y2plIGt1cnNvcmFcclxuXHRjb25zdCB4ID0gZS5jbGllbnRYXHJcblx0Y29uc3QgeSA9IGUuY2xpZW50WVxyXG5cclxuXHQvL3BvenljamEgb2JyYXp1XHJcblx0Y29uc3QgaW1nWCA9IGltYWdlWm9vbS5vZmZzZXRMZWZ0ICsgKGltYWdlWm9vbVNlY3Rpb24ub2Zmc2V0TGVmdCAtIGltYWdlWm9vbVNlY3Rpb24ub2Zmc2V0V2lkdGggLyAyKVxyXG5cdGNvbnN0IGltZ1kgPSBpbWFnZVpvb20ub2Zmc2V0VG9wICsgKGltYWdlWm9vbVNlY3Rpb24ub2Zmc2V0VG9wIC0gaW1hZ2Vab29tU2VjdGlvbi5vZmZzZXRIZWlnaHQgLyAyKVxyXG5cclxuXHQvL3BvenljamEga3Vyc29yYSB3ZXduxIV0cnogb2JyYXprYVxyXG5cdGNvbnN0IG5ld1ggPSAoaW1nWCAtIHgpICogLTFcclxuXHRjb25zdCBuZXdZID0gKGltZ1kgLSB5KSAqIC0xXHJcblxyXG5cdGltYWdlWm9vbS5zdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSBgJHtuZXdYfXB4ICR7bmV3WX1weGBcclxuXHJcblx0aW1hZ2Vab29tLmNsYXNzTGlzdC5hZGQoJ3pvb21lZC1pbWFnZScpXHJcbn1cclxuXHJcbmNvbnN0IHJlc2V0SW1nID0gKCkgPT4ge1xyXG5cdGltYWdlWm9vbS5jbGFzc0xpc3QucmVtb3ZlKCd6b29tZWQtaW1hZ2UnKVxyXG59XHJcblxyXG4vL0FERCBFVkVOVCBMSVNURU5FUlNcclxuXHJcbmJ1cmdlckJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG5hdkhhbmRsaW5nKVxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgKCkgPT4ge1xyXG5cdGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IDk5Mikge1xyXG5cdFx0bmF2QmFja2dyb3VuZEFkZE1vYmlsZSgpXHJcblx0fSBlbHNlIHtcclxuXHRcdG5hdkJhY2tncm91bmRBZGREZXNrdG9wKClcclxuXHR9XHJcbn0pXHJcbmhhbmRsZURhdGUoKVxyXG5uYXZIaWdobGlnaHQoKVxyXG5cclxuaWYgKGFsbFBsYW5JbWFnZXMpIHtcclxuXHRhbGxQbGFuSW1hZ2VzLmZvckVhY2goaW1nID0+IHtcclxuXHRcdGltZy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG5cdFx0XHRpZiAod2luZG93LmlubmVyV2lkdGggPCAxMjAwKSB7XHJcblx0XHRcdFx0em9vbVBsYW5JbWdNb2JpbGUoaW1nKVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHpvb21QbGFuSW1nRGVza3RvcChpbWcpXHJcblx0XHRcdH1cclxuXHRcdH0pXHJcblx0fSlcclxufVxyXG5cclxuaWYgKGltYWdlWm9vbSkge1xyXG5cdGltYWdlWm9vbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB6b29tSW1nKVxyXG5cdGltYWdlWm9vbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIHJlc2V0SW1nKVxyXG59XHJcblxyXG5pZiAoem9vbUNsb3NlQnRuKSB7XHJcblx0em9vbUNsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2Vab29tU2VjdGlvbilcclxufVxyXG5cclxuaWYgKHNlbmRCdG4pIHtcclxuXHRzZW5kQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KClcclxuXHRcdHZlcmlmeUZvcm1zKClcclxuXHR9KVxyXG59XHJcblxyXG5pZiAocG9wdXBDbG9zZSkge1xyXG5cdHBvcHVwQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVBvcHVwKVxyXG59XHJcbiJdfQ==
