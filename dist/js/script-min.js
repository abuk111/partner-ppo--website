"use strict";var navHeight,headerDarkHeight,headerGreyHeight,burgerBtn=document.querySelector(".burger-btn"),burgerBars=document.querySelector(".burger-bar"),navbar=document.querySelector(".navbar"),navbarListItem=document.querySelectorAll(".navbar__list__elements"),nav=document.querySelector(".nav"),allSection=document.querySelectorAll(".section"),date=document.querySelector(".date"),sendBtn=document.querySelector(".form__formbox__send"),nameForm=document.querySelector("#name"),mailForm=document.querySelector("#mail"),phoneForm=document.querySelector("#phone"),messageForm=document.querySelector("#message"),form=document.querySelector("#contact-form"),popup=document.querySelector(".popup"),popupOk=document.querySelector(".ok"),popupError=document.querySelector(".error"),popupClose=document.querySelector(".popup__window-close"),allPlanImages=document.querySelectorAll(".plans__box-imagebox-img"),imageZoomSection=document.querySelector(".imagezoom"),imageZoom=document.querySelector(".imagezoom__image-img"),zoomCloseBtn=document.querySelector(".imagezoom__closebtn"),showNav=function(){navbar.classList.add("navbar-active"),navbar.classList.remove("navbar-hide"),burgerBars.classList.add("burger-active"),burgerBars.classList.remove("burger-back")},hideNav=function(){navbar.classList.remove("navbar-active"),navbar.classList.add("navbar-hide"),burgerBars.classList.remove("burger-active"),burgerBars.classList.add("burger-back")},navbarItemEntry=function(){var a=0;navbarListItem.forEach(function(e){e.classList.toggle("nav-entry"),e.style.animationDelay="."+a+"s",a++})},scrollDisable=function(e){window.onscroll=function(){window.scrollTo({top:e,left:0,behavior:"instant"})}};function enableScroll(){window.onscroll=function(){}}var navHandling=function(){var e;(navbar.classList.contains("navbar-active")?(hideNav(),enableScroll):(e=window.scrollY,scrollDisable(e),showNav))(),navbarItemEntry(),navbarListItem.forEach(function(e){e.addEventListener("click",hideNav)})},navHighlight=function(e){switch(window.location.pathname){case"/index.html":navbarListItem.forEach(function(e){"mainPage"==e.children[0].id&&e.children[0].classList.add("link-active")});break;case"/uslugi.html":case"/instrukcje.html":case"/kontrole.html":case"/szkolenia.html":case"/plany.html":navbarListItem.forEach(function(e){"servicePage"==e.children[0].id&&e.children[0].classList.add("link-active")});break;case"/doswiadczenie.html":navbarListItem.forEach(function(e){"expPage"==e.children[0].id&&e.children[0].classList.add("link-active")});break;case"/faq.html":navbarListItem.forEach(function(e){"FAQPage"==e.children[0].id&&e.children[0].classList.add("link-active")});break;case"/kontakt.html":navbarListItem.forEach(function(e){"contactPage"==e.children[0].id&&e.children[0].classList.add("link-active")})}},handleDate=function(e){var a=(new Date).getFullYear();date.textContent=a},setNavHeight=function(){window.innerWidth<768?(navHeight=85,headerDarkHeight=245,headerGreyHeight=395):768<=window.innerWidth&&(navHeight=100,headerDarkHeight=310,headerGreyHeight=450)},headerBgAdd=function(){window.scrollY>headerDarkHeight?(nav.classList.add("nav-black-bgc"),nav.classList.remove("nav-dark-bgc"),nav.classList.remove("nav-medium-bgc")):window.scrollY<=headerDarkHeight&&(nav.classList.remove("nav-black-bgc"),nav.classList.remove("nav-dark-bgc"),nav.classList.remove("nav-medium-bgc")),window.scrollY>headerGreyHeight&&(nav.classList.remove("nav-black-bgc"),nav.classList.remove("nav-dark-bgc"),nav.classList.add("nav-medium-bgc"))},navBackgroundAddMobile=function(){var a=window.scrollY;setNavHeight(),allSection.forEach(function(e){e.classList.contains("header-bgc")?headerBgAdd():e.classList.contains("dark-bgc")&&e.offsetTop<=a+navHeight?(nav.classList.remove("nav-black-bgc"),nav.classList.add("nav-dark-bgc"),nav.classList.remove("nav-medium-bgc")):e.classList.contains("medium-bgc")&&e.offsetTop<=a+navHeight&&(nav.classList.remove("nav-black-bgc"),nav.classList.remove("nav-dark-bgc"),nav.classList.add("nav-medium-bgc"))})},navBackgroundAddDesktop=function(){var a=window.scrollY;setNavHeight(),allSection.forEach(function(e){e.classList.contains("medium-bgc")&&e.offsetTop<=a+navHeight?(navbar.classList.add("nav-dark-bgc"),navbar.classList.remove("nav-medium-bgc")):(e.classList.contains("dark-bgc")&&e.offsetTop<=a+navHeight||e.classList.contains("header-bgc"))&&(navbar.classList.remove("nav-dark-bgc"),navbar.classList.add("nav-medium-bgc"))})},checkInput=function(e){e.forEach(function(e){""===e.value?showError(e,e.placeholder):(clearError(e),e===mailForm?checkMail(e):e===phoneForm&&checkPhone(e))})},showError=function(e,a){e=e.parentElement.querySelector(".error-text");e.classList.add("show"),e.textContent=a},clearError=function(e){e=e.parentElement.querySelector(".error-text");e.classList.remove("show"),e.textContent="error"},checkMail=function(e){e.value=e.value.trim(),/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,3}))$/.test(e.value)?clearError(e):showError(e,"Podaj poprawny email!")},checkPhone=function(e){/^(?<!\w)(\(?(\+|00)?48\)?)?[ -]?\d{3}[ -]?\d{3}[ -]?\d{3}(?!\w)/.test(e.value)?clearError(e):showError(e,"Podaj poprawny telefon!")},checkErrors=function(e){var a=0;e.forEach(function(e){"error"!==e.parentElement.querySelector(".error-text").textContent&&a++}),0===a&&(a=0,console.log("start weryfikacji"),verifyCaptcha())},verifyForms=function(){checkInput([nameForm,mailForm,phoneForm,messageForm]),checkErrors([nameForm,mailForm,phoneForm,messageForm])},verifyCaptcha=function(){grecaptcha.execute(),popupOpen()},popupOpen=function(){popup.classList.add("popup-show"),showEmailConfirmation()},showEmailConfirmation=function(){"?mail_status=sent"===document.location.search&&(popupOk.style.display="flex",popupError.style.display="none"),"?mail_status=error"===document.location.search&&(popupOk.style.display="none",popupError.style.display="flex")},closePopup=function(){popup.classList.remove("popup-show")},zoomPlanImgMobile=function(e){e=e.src;window.open(e)},zoomPlanImgDesktop=function(e){e=e.src;imageZoomSection.classList.add("imagezoom-show"),imageZoom.setAttribute("src",e)},closeZoomSection=function(){imageZoomSection.classList.remove("imagezoom-show"),imageZoom.setAttribute("src","")},zoomImg=function(e){var a=e.clientX,e=e.clientY,o=imageZoom.offsetLeft+(imageZoomSection.offsetLeft-imageZoomSection.offsetWidth/2),e=-1*(imageZoom.offsetTop+(imageZoomSection.offsetTop-imageZoomSection.offsetHeight/2)-e);imageZoom.style.transformOrigin="".concat(-1*(o-a),"px ").concat(e,"px"),imageZoom.classList.add("zoomed-image")},resetImg=function(){imageZoom.classList.remove("zoomed-image")};burgerBtn.addEventListener("click",navHandling),window.addEventListener("scroll",function(){(window.innerWidth<992?navBackgroundAddMobile:navBackgroundAddDesktop)()}),handleDate(),navHighlight(),allPlanImages&&allPlanImages.forEach(function(a){a.addEventListener("click",function(e){(window.innerWidth<1200?zoomPlanImgMobile:zoomPlanImgDesktop)(a)})}),imageZoom&&(imageZoom.addEventListener("mousemove",zoomImg),imageZoom.addEventListener("mouseout",resetImg)),zoomCloseBtn&&zoomCloseBtn.addEventListener("click",closeZoomSection),sendBtn&&sendBtn.addEventListener("click",function(e){e.preventDefault(),verifyForms()}),popupClose&&popupClose.addEventListener("click",closePopup);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJhbGxTZWN0aW9uIiwibmF2SGVpZ2h0IiwiaGVhZGVyRGFya0hlaWdodCIsImJ1cmdlckJ0biIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImJ1cmdlckJhcnMiLCJuYXZiYXJMaXN0SXRlbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJuYXYiLCJkYXRlIiwic2VuZEJ0biIsIm5hbWVGb3JtIiwibWFpbEZvcm0iLCJwaG9uZUZvcm0iLCJtZXNzYWdlRm9ybSIsImZvcm0iLCJwb3B1cE9rIiwicG9wdXBFcnJvciIsInBvcHVwQ2xvc2UiLCJpbWFnZVpvb21TZWN0aW9uIiwiaW1hZ2Vab29tIiwiem9vbUNsb3NlQnRuIiwibmF2YmFyIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwiaXRlbSIsImZvckVhY2giLCJ0b2dnbGUiLCJzdHlsZSIsImFuaW1hdGlvbkRlbGF5IiwiZGVsYXlUaW1lIiwic2Nyb2xsRGlzYWJsZSIsIndpbmRvdyIsImxlZnQiLCJzY3JvbGxZIiwiYmVoYXZpb3IiLCJzY3JvbGxUbyIsInRvcCIsImVuYWJsZVNjcm9sbCIsImhpZGVOYXYiLCJjb250YWlucyIsIm5hdmJhckl0ZW1FbnRyeSIsImN1cnJlbnRQYWdlIiwibG9jYXRpb24iLCJwYXRobmFtZSIsIm5hdkhpZ2hsaWdodCIsInBhcmFtcyIsImNoaWxkcmVuIiwiaWQiLCJ0ZXh0Q29udGVudCIsImlubmVyV2lkdGgiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJjdXJyZW50WWVhciIsImhlYWRlckdyZXlIZWlnaHQiLCJoZWFkZXJCZ0FkZCIsIm5hdkJhY2tncm91bmRBZGRNb2JpbGUiLCJjdXJyZW50U2VjdGlvbiIsInNlY3Rpb24iLCJzZXROYXZIZWlnaHQiLCJuYXZCYWNrZ3JvdW5kQWRkRGVza3RvcCIsIm9mZnNldFRvcCIsImNoZWNrSW5wdXQiLCJpbnB1dCIsInNob3dFcnJvciIsImVsIiwicGxhY2Vob2xkZXIiLCJjbGVhckVycm9yIiwiY2hlY2tQaG9uZSIsImVycm9yTXNnIiwiaW5wdXRCb3giLCJlbWFpbCIsIm1zZyIsInBhcmVudEVsZW1lbnQiLCJwaG9uZSIsImNoZWNrRXJyb3JzIiwiZXJyb3JDb3VudCIsInZhbHVlIiwidHJpbSIsInZlcmlmeUNhcHRjaGEiLCJ2ZXJpZnlGb3JtcyIsInRlc3QiLCJzaG93RW1haWxDb25maXJtYXRpb24iLCJkaXNwbGF5IiwiY29uc29sZSIsImxvZyIsInpvb21QbGFuSW1nTW9iaWxlIiwiZ3JlY2FwdGNoYSIsInpvb21QbGFuSW1nRGVza3RvcCIsInBvcHVwT3BlbiIsInBvcHVwIiwic2V0QXR0cmlidXRlIiwieCIsImNsaWVudFkiLCJzZWFyY2giLCJjbG9zZVBvcHVwIiwicmVzZXRJbWciLCJpbWFnZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJzcmMiLCJoYW5kbGVEYXRlIiwiaW1nIiwiem9vbUltZyIsImUiLCJjbGllbnRYIiwieSIsIm9mZnNldExlZnQiLCJvZmZzZXRXaWR0aCIsIm9mZnNldEhlaWdodCIsInByZXZlbnREZWZhdWx0IiwiY29uY2F0IiwiaW1nWCIsIm5ld1kiLCJuYXZIYW5kbGluZyIsImFsbFBsYW5JbWFnZXMiLCJjbG9zZVpvb21TZWN0aW9uIl0sIm1hcHBpbmdzIjoiYUFBQSxJQVFNQSxVQUNGQyxpQkFDQUMsaUJBVkpDLFVBQUFDLFNBQUFDLGNBQUEsYUFBQSxFQUdNQyxXQUFhRixTQUFTQyxjQUFjLGFBQWEsRUFEakRGLE9BQVNDLFNBQVdDLGNBQWMsU0FBQyxFQUNuQ0MsZUFBYUYsU0FBU0MsaUJBQWMseUJBQWMsRUFFbERFLElBQUFBLFNBQWlCSCxjQUFTSSxNQUFBQSxFQUUxQkMsV0FBZUosU0FBQUEsaUJBQXFCLFVBQUEsRUFNcENLLEtBQU9OLFNBQVNDLGNBQWMsT0FBUSxFQUl0Q00sUUFBVVAsU0FBU0MsY0FBYyxzQkFBdUIsRUFDeERPLFNBQVdSLFNBQVNDLGNBQWMsT0FBUSxFQUMxQ1EsU0FBV1QsU0FBU0MsY0FBYyxPQUFRLEVBQzFDUyxVQUFZVixT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YSxLQUN2Qm9DLGtCQUVBRSxvQkFGa0JhLENBQUcsQ0FJdkIsQ0FBQyxDQUNGLENBQUMsRUFHRWxGLFlBQ0hBLFVBQVUrRSxpQkFBaUIsWUFBYUksT0FBTyxFQUMvQ25GLFVBQVUrRSxpQkFBaUIsV0FBWUYsUUFBUSxHQUc1QzVFLGNBQ0hBLGFBQWE4RSxpQkFBaUIsUUFBU2lCLGdCQUFnQixFQUdwRDFHLFNBQ0hBLFFBQVF5RixpQkFBaUIsUUFBUyxTQUFBSyxHQUNqQ0EsRUFBRU0sZUFBYyxFQUNoQjdCLFlBQVcsQ0FDWixDQUFDLEVBR0UvRCxZQUNIQSxXQUFXaUYsaUJBQWlCLFFBQVNILFVBQVUiLCJmaWxlIjoic2NyaXB0LW1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIE5BViBBTkQgQlVSR0VSIFZBUklBQkxFU1xyXG5cclxuY29uc3QgYnVyZ2VyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1cmdlci1idG4nKVxyXG5jb25zdCBidXJnZXJCYXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1cmdlci1iYXInKVxyXG5jb25zdCBuYXZiYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2YmFyJylcclxuY29uc3QgbmF2YmFyTGlzdEl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2YmFyX19saXN0X19lbGVtZW50cycpXHJcblxyXG5jb25zdCBuYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2JylcclxuY29uc3QgYWxsU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWN0aW9uJylcclxubGV0IG5hdkhlaWdodFxyXG5sZXQgaGVhZGVyRGFya0hlaWdodFxyXG5sZXQgaGVhZGVyR3JleUhlaWdodFxyXG5cclxuY29uc3QgZGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kYXRlJylcclxuXHJcbi8vIEZPUk0gVkFSSUFCTEVTXHJcblxyXG5jb25zdCBzZW5kQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm1fX2Zvcm1ib3hfX3NlbmQnKVxyXG5jb25zdCBuYW1lRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuYW1lJylcclxuY29uc3QgbWFpbEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFpbCcpXHJcbmNvbnN0IHBob25lRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwaG9uZScpXHJcbmNvbnN0IG1lc3NhZ2VGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21lc3NhZ2UnKVxyXG5cclxuY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjb250YWN0LWZvcm0nKVxyXG5cclxuLy8gQ09OVEFDVCBQT1BVUCAtIFZBUklBQkxFU1xyXG5cclxuY29uc3QgcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAnKVxyXG5jb25zdCBwb3B1cE9rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm9rJylcclxuY29uc3QgcG9wdXBFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lcnJvcicpXHJcbmNvbnN0IHBvcHVwQ2xvc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3dpbmRvdy1jbG9zZScpXHJcblxyXG4vLyBaT09NIEVWQUNVQVRJT04gUExBTiBJTUFHRVMgLSBWQVJJQUJMRVNcclxuXHJcbmNvbnN0IGFsbFBsYW5JbWFnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGxhbnNfX2JveC1pbWFnZWJveC1pbWcnKVxyXG5jb25zdCBpbWFnZVpvb21TZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmltYWdlem9vbScpXHJcbmNvbnN0IGltYWdlWm9vbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbWFnZXpvb21fX2ltYWdlLWltZycpXHJcbmNvbnN0IHpvb21DbG9zZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbWFnZXpvb21fX2Nsb3NlYnRuJylcclxuXHJcbi8vTkFWSUdBVElPTiBBTkQgQlVSR0VSIEJVVFRPTlxyXG5cclxuY29uc3Qgc2hvd05hdiA9ICgpID0+IHtcclxuXHRuYXZiYXIuY2xhc3NMaXN0LmFkZCgnbmF2YmFyLWFjdGl2ZScpXHJcblx0bmF2YmFyLmNsYXNzTGlzdC5yZW1vdmUoJ25hdmJhci1oaWRlJylcclxuXHRidXJnZXJCYXJzLmNsYXNzTGlzdC5hZGQoJ2J1cmdlci1hY3RpdmUnKVxyXG5cdGJ1cmdlckJhcnMuY2xhc3NMaXN0LnJlbW92ZSgnYnVyZ2VyLWJhY2snKVxyXG59XHJcbmNvbnN0IGhpZGVOYXYgPSAoKSA9PiB7XHJcblx0bmF2YmFyLmNsYXNzTGlzdC5yZW1vdmUoJ25hdmJhci1hY3RpdmUnKVxyXG5cdG5hdmJhci5jbGFzc0xpc3QuYWRkKCduYXZiYXItaGlkZScpXHJcblx0YnVyZ2VyQmFycy5jbGFzc0xpc3QucmVtb3ZlKCdidXJnZXItYWN0aXZlJylcclxuXHRidXJnZXJCYXJzLmNsYXNzTGlzdC5hZGQoJ2J1cmdlci1iYWNrJylcclxufVxyXG5cclxuY29uc3QgbmF2YmFySXRlbUVudHJ5ID0gKCkgPT4ge1xyXG5cdGxldCBkZWxheVRpbWUgPSAwXHJcblxyXG5cdG5hdmJhckxpc3RJdGVtLmZvckVhY2goaXRlbSA9PiB7XHJcblx0XHRpdGVtLmNsYXNzTGlzdC50b2dnbGUoJ25hdi1lbnRyeScpXHJcblx0XHRpdGVtLnN0eWxlLmFuaW1hdGlvbkRlbGF5ID0gJy4nICsgZGVsYXlUaW1lICsgJ3MnXHJcblx0XHRkZWxheVRpbWUrK1xyXG5cdH0pXHJcbn1cclxuXHJcbmNvbnN0IHNjcm9sbERpc2FibGUgPSBzY3JvbGxZID0+IHtcclxuXHR3aW5kb3cub25zY3JvbGwgPSAoKSA9PiB7XHJcblx0XHR3aW5kb3cuc2Nyb2xsVG8oe1xyXG5cdFx0XHR0b3A6IHNjcm9sbFksXHJcblx0XHRcdGxlZnQ6IDAsXHJcblx0XHRcdGJlaGF2aW9yOiAnaW5zdGFudCcsXHJcblx0XHR9KVxyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gZW5hYmxlU2Nyb2xsKCkge1xyXG5cdHdpbmRvdy5vbnNjcm9sbCA9IGZ1bmN0aW9uICgpIHt9XHJcbn1cclxuXHJcbmNvbnN0IG5hdkhhbmRsaW5nID0gKCkgPT4ge1xyXG5cdGlmICghbmF2YmFyLmNsYXNzTGlzdC5jb250YWlucygnbmF2YmFyLWFjdGl2ZScpKSB7XHJcblx0XHRjb25zdCBzY3JvbGxZID0gd2luZG93LnNjcm9sbFlcclxuXHRcdHNjcm9sbERpc2FibGUoc2Nyb2xsWSlcclxuXHRcdHNob3dOYXYoKVxyXG5cdH0gZWxzZSB7XHJcblx0XHRoaWRlTmF2KClcclxuXHRcdGVuYWJsZVNjcm9sbCgpXHJcblx0fVxyXG5cclxuXHRuYXZiYXJJdGVtRW50cnkoKVxyXG5cdG5hdmJhckxpc3RJdGVtLmZvckVhY2goaXRlbSA9PiB7XHJcblx0XHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGlkZU5hdilcclxuXHR9KVxyXG59XHJcblxyXG4vLyBDVVJSRU5UIFBBR0UgTkFWSUdBVElPTiBISUdITElHSFRcclxuXHJcbmNvbnN0IG5hdkhpZ2hsaWdodCA9IHBhcmFtcyA9PiB7XHJcblx0Y29uc3QgY3VycmVudFBhZ2UgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWVcclxuXHJcblx0c3dpdGNoIChjdXJyZW50UGFnZSkge1xyXG5cdFx0Y2FzZSAnL2luZGV4Lmh0bWwnOlxyXG5cdFx0XHRuYXZiYXJMaXN0SXRlbS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG5cdFx0XHRcdGlmIChpdGVtLmNoaWxkcmVuWzBdLmlkID09ICdtYWluUGFnZScpIHtcclxuXHRcdFx0XHRcdGl0ZW0uY2hpbGRyZW5bMF0uY2xhc3NMaXN0LmFkZCgnbGluay1hY3RpdmUnKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdFx0YnJlYWtcclxuXHRcdGNhc2UgJy91c2x1Z2kuaHRtbCc6XHJcblx0XHRjYXNlICcvaW5zdHJ1a2NqZS5odG1sJzpcclxuXHRcdGNhc2UgJy9rb250cm9sZS5odG1sJzpcclxuXHRcdGNhc2UgJy9zemtvbGVuaWEuaHRtbCc6XHJcblx0XHRjYXNlICcvcGxhbnkuaHRtbCc6XHJcblx0XHRcdG5hdmJhckxpc3RJdGVtLmZvckVhY2goaXRlbSA9PiB7XHJcblx0XHRcdFx0aWYgKGl0ZW0uY2hpbGRyZW5bMF0uaWQgPT0gJ3NlcnZpY2VQYWdlJykge1xyXG5cdFx0XHRcdFx0aXRlbS5jaGlsZHJlblswXS5jbGFzc0xpc3QuYWRkKCdsaW5rLWFjdGl2ZScpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdFx0XHRicmVha1xyXG5cdFx0Y2FzZSAnL2Rvc3dpYWRjemVuaWUuaHRtbCc6XHJcblx0XHRcdG5hdmJhckxpc3RJdGVtLmZvckVhY2goaXRlbSA9PiB7XHJcblx0XHRcdFx0aWYgKGl0ZW0uY2hpbGRyZW5bMF0uaWQgPT0gJ2V4cFBhZ2UnKSB7XHJcblx0XHRcdFx0XHRpdGVtLmNoaWxkcmVuWzBdLmNsYXNzTGlzdC5hZGQoJ2xpbmstYWN0aXZlJylcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHRcdGJyZWFrXHJcblx0XHRjYXNlICcvZmFxLmh0bWwnOlxyXG5cdFx0XHRuYXZiYXJMaXN0SXRlbS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG5cdFx0XHRcdGlmIChpdGVtLmNoaWxkcmVuWzBdLmlkID09ICdGQVFQYWdlJykge1xyXG5cdFx0XHRcdFx0aXRlbS5jaGlsZHJlblswXS5jbGFzc0xpc3QuYWRkKCdsaW5rLWFjdGl2ZScpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdFx0XHRicmVha1xyXG5cdFx0Y2FzZSAnL2tvbnRha3QuaHRtbCc6XHJcblx0XHRcdG5hdmJhckxpc3RJdGVtLmZvckVhY2goaXRlbSA9PiB7XHJcblx0XHRcdFx0aWYgKGl0ZW0uY2hpbGRyZW5bMF0uaWQgPT0gJ2NvbnRhY3RQYWdlJykge1xyXG5cdFx0XHRcdFx0aXRlbS5jaGlsZHJlblswXS5jbGFzc0xpc3QuYWRkKCdsaW5rLWFjdGl2ZScpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdFx0XHRicmVha1xyXG5cdH1cclxufVxyXG5cclxuLy8gU0hPVyBDVVJSRU5UIFlFQVIgSU4gRk9PVEVSXHJcblxyXG5jb25zdCBoYW5kbGVEYXRlID0gcGFyYW1zID0+IHtcclxuXHRjb25zdCBjdXJyZW50WWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKVxyXG5cdGRhdGUudGV4dENvbnRlbnQgPSBjdXJyZW50WWVhclxyXG59XHJcblxyXG4vLyBDSEFOR0UgTkFWSUdBVElPTiBCQUNLR1JPVU5EIENPTE9SXHJcblxyXG5jb25zdCBzZXROYXZIZWlnaHQgPSAoKSA9PiB7XHJcblx0aWYgKHdpbmRvdy5pbm5lcldpZHRoIDwgNzY4KSB7XHJcblx0XHRuYXZIZWlnaHQgPSA4NVxyXG5cdFx0aGVhZGVyRGFya0hlaWdodCA9IDI0NVxyXG5cdFx0aGVhZGVyR3JleUhlaWdodCA9IDM5NVxyXG5cdH0gZWxzZSBpZiAod2luZG93LmlubmVyV2lkdGggPj0gNzY4KSB7XHJcblx0XHRuYXZIZWlnaHQgPSAxMDBcclxuXHRcdGhlYWRlckRhcmtIZWlnaHQgPSAzMTBcclxuXHRcdGhlYWRlckdyZXlIZWlnaHQgPSA0NTBcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGhlYWRlckJnQWRkID0gKCkgPT4ge1xyXG5cdGlmICh3aW5kb3cuc2Nyb2xsWSA+IGhlYWRlckRhcmtIZWlnaHQpIHtcclxuXHRcdG5hdi5jbGFzc0xpc3QuYWRkKCduYXYtYmxhY2stYmdjJylcclxuXHRcdG5hdi5jbGFzc0xpc3QucmVtb3ZlKCduYXYtZGFyay1iZ2MnKVxyXG5cdFx0bmF2LmNsYXNzTGlzdC5yZW1vdmUoJ25hdi1tZWRpdW0tYmdjJylcclxuXHR9IGVsc2UgaWYgKHdpbmRvdy5zY3JvbGxZIDw9IGhlYWRlckRhcmtIZWlnaHQpIHtcclxuXHRcdG5hdi5jbGFzc0xpc3QucmVtb3ZlKCduYXYtYmxhY2stYmdjJylcclxuXHRcdG5hdi5jbGFzc0xpc3QucmVtb3ZlKCduYXYtZGFyay1iZ2MnKVxyXG5cdFx0bmF2LmNsYXNzTGlzdC5yZW1vdmUoJ25hdi1tZWRpdW0tYmdjJylcclxuXHR9XHJcblx0aWYgKHdpbmRvdy5zY3JvbGxZID4gaGVhZGVyR3JleUhlaWdodCkge1xyXG5cdFx0bmF2LmNsYXNzTGlzdC5yZW1vdmUoJ25hdi1ibGFjay1iZ2MnKVxyXG5cdFx0bmF2LmNsYXNzTGlzdC5yZW1vdmUoJ25hdi1kYXJrLWJnYycpXHJcblx0XHRuYXYuY2xhc3NMaXN0LmFkZCgnbmF2LW1lZGl1bS1iZ2MnKVxyXG5cdH1cclxufVxyXG5cclxuY29uc3QgbmF2QmFja2dyb3VuZEFkZE1vYmlsZSA9ICgpID0+IHtcclxuXHRjb25zdCBjdXJyZW50U2VjdGlvbiA9IHdpbmRvdy5zY3JvbGxZXHJcblx0c2V0TmF2SGVpZ2h0KClcclxuXHJcblx0YWxsU2VjdGlvbi5mb3JFYWNoKHNlY3Rpb24gPT4ge1xyXG5cdFx0aWYgKHNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCdoZWFkZXItYmdjJykpIHtcclxuXHRcdFx0aGVhZGVyQmdBZGQoKVxyXG5cdFx0fSBlbHNlIGlmIChzZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucygnZGFyay1iZ2MnKSAmJiBzZWN0aW9uLm9mZnNldFRvcCA8PSBjdXJyZW50U2VjdGlvbiArIG5hdkhlaWdodCkge1xyXG5cdFx0XHRuYXYuY2xhc3NMaXN0LnJlbW92ZSgnbmF2LWJsYWNrLWJnYycpXHJcblx0XHRcdG5hdi5jbGFzc0xpc3QuYWRkKCduYXYtZGFyay1iZ2MnKVxyXG5cdFx0XHRuYXYuY2xhc3NMaXN0LnJlbW92ZSgnbmF2LW1lZGl1bS1iZ2MnKVxyXG5cdFx0fSBlbHNlIGlmIChzZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucygnbWVkaXVtLWJnYycpICYmIHNlY3Rpb24ub2Zmc2V0VG9wIDw9IGN1cnJlbnRTZWN0aW9uICsgbmF2SGVpZ2h0KSB7XHJcblx0XHRcdG5hdi5jbGFzc0xpc3QucmVtb3ZlKCduYXYtYmxhY2stYmdjJylcclxuXHRcdFx0bmF2LmNsYXNzTGlzdC5yZW1vdmUoJ25hdi1kYXJrLWJnYycpXHJcblx0XHRcdG5hdi5jbGFzc0xpc3QuYWRkKCduYXYtbWVkaXVtLWJnYycpXHJcblx0XHR9XHJcblx0fSlcclxufVxyXG5cclxuY29uc3QgbmF2QmFja2dyb3VuZEFkZERlc2t0b3AgPSAoKSA9PiB7XHJcblx0Y29uc3QgY3VycmVudFNlY3Rpb24gPSB3aW5kb3cuc2Nyb2xsWVxyXG5cdHNldE5hdkhlaWdodCgpXHJcblxyXG5cdGFsbFNlY3Rpb24uZm9yRWFjaChzZWN0aW9uID0+IHtcclxuXHRcdGlmIChzZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucygnbWVkaXVtLWJnYycpICYmIHNlY3Rpb24ub2Zmc2V0VG9wIDw9IGN1cnJlbnRTZWN0aW9uICsgbmF2SGVpZ2h0KSB7XHJcblx0XHRcdG5hdmJhci5jbGFzc0xpc3QuYWRkKCduYXYtZGFyay1iZ2MnKVxyXG5cdFx0XHRuYXZiYXIuY2xhc3NMaXN0LnJlbW92ZSgnbmF2LW1lZGl1bS1iZ2MnKVxyXG5cdFx0fSBlbHNlIGlmIChcclxuXHRcdFx0KHNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCdkYXJrLWJnYycpICYmIHNlY3Rpb24ub2Zmc2V0VG9wIDw9IGN1cnJlbnRTZWN0aW9uICsgbmF2SGVpZ2h0KSB8fFxyXG5cdFx0XHRzZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucygnaGVhZGVyLWJnYycpXHJcblx0XHQpIHtcclxuXHRcdFx0bmF2YmFyLmNsYXNzTGlzdC5yZW1vdmUoJ25hdi1kYXJrLWJnYycpXHJcblx0XHRcdG5hdmJhci5jbGFzc0xpc3QuYWRkKCduYXYtbWVkaXVtLWJnYycpXHJcblx0XHR9XHJcblx0fSlcclxufVxyXG5cclxuLy8gQ09OVEFDVCBGT1JNIFZBTElEQVRJT05cclxuXHJcbmNvbnN0IGNoZWNrSW5wdXQgPSBpbnB1dCA9PiB7XHJcblx0aW5wdXQuZm9yRWFjaChlbCA9PiB7XHJcblx0XHRpZiAoZWwudmFsdWUgPT09ICcnKSB7XHJcblx0XHRcdHNob3dFcnJvcihlbCwgZWwucGxhY2Vob2xkZXIpXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjbGVhckVycm9yKGVsKVxyXG5cdFx0XHRpZiAoZWwgPT09IG1haWxGb3JtKSB7XHJcblx0XHRcdFx0Y2hlY2tNYWlsKGVsKVxyXG5cdFx0XHR9IGVsc2UgaWYgKGVsID09PSBwaG9uZUZvcm0pIHtcclxuXHRcdFx0XHRjaGVja1Bob25lKGVsKVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSlcclxufVxyXG5cclxuY29uc3Qgc2hvd0Vycm9yID0gKGlucHV0LCBtc2cpID0+IHtcclxuXHRjb25zdCBpbnB1dEJveCA9IGlucHV0LnBhcmVudEVsZW1lbnRcclxuXHRjb25zdCBlcnJvck1zZyA9IGlucHV0Qm94LnF1ZXJ5U2VsZWN0b3IoJy5lcnJvci10ZXh0JylcclxuXHJcblx0ZXJyb3JNc2cuY2xhc3NMaXN0LmFkZCgnc2hvdycpXHJcblx0ZXJyb3JNc2cudGV4dENvbnRlbnQgPSBtc2dcclxufVxyXG5cclxuY29uc3QgY2xlYXJFcnJvciA9IGlucHV0ID0+IHtcclxuXHRjb25zdCBpbnB1dEJveCA9IGlucHV0LnBhcmVudEVsZW1lbnRcclxuXHRjb25zdCBlcnJvck1zZyA9IGlucHV0Qm94LnF1ZXJ5U2VsZWN0b3IoJy5lcnJvci10ZXh0JylcclxuXHJcblx0ZXJyb3JNc2cuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpXHJcblx0ZXJyb3JNc2cudGV4dENvbnRlbnQgPSAnZXJyb3InXHJcbn1cclxuXHJcbmNvbnN0IGNoZWNrTWFpbCA9IGVtYWlsID0+IHtcclxuXHRjb25zdCByZSA9XHJcblx0XHQvXigoW148PigpW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcXSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsM30pKSQvXHJcblxyXG5cdGVtYWlsLnZhbHVlID0gZW1haWwudmFsdWUudHJpbSgpXHJcblxyXG5cdGlmIChyZS50ZXN0KGVtYWlsLnZhbHVlKSkge1xyXG5cdFx0Y2xlYXJFcnJvcihlbWFpbClcclxuXHR9IGVsc2Uge1xyXG5cdFx0c2hvd0Vycm9yKGVtYWlsLCAnUG9kYWogcG9wcmF3bnkgZW1haWwhJylcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGNoZWNrUGhvbmUgPSBwaG9uZSA9PiB7XHJcblx0Y29uc3QgcmUgPSAvXig/PCFcXHcpKFxcKD8oXFwrfDAwKT80OFxcKT8pP1sgLV0/XFxkezN9WyAtXT9cXGR7M31bIC1dP1xcZHszfSg/IVxcdykvXHJcblxyXG5cdGlmIChyZS50ZXN0KHBob25lLnZhbHVlKSkge1xyXG5cdFx0Y2xlYXJFcnJvcihwaG9uZSlcclxuXHR9IGVsc2Uge1xyXG5cdFx0c2hvd0Vycm9yKHBob25lLCAnUG9kYWogcG9wcmF3bnkgdGVsZWZvbiEnKVxyXG5cdH1cclxufVxyXG5cclxuY29uc3QgY2hlY2tFcnJvcnMgPSBpbnB1dCA9PiB7XHJcblx0bGV0IGVycm9yQ291bnQgPSAwXHJcblxyXG5cdGlucHV0LmZvckVhY2goZWwgPT4ge1xyXG5cdFx0aWYgKGVsLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmVycm9yLXRleHQnKS50ZXh0Q29udGVudCAhPT0gJ2Vycm9yJykge1xyXG5cdFx0XHRlcnJvckNvdW50KytcclxuXHRcdH1cclxuXHR9KVxyXG5cdGlmIChlcnJvckNvdW50ID09PSAwKSB7XHJcblx0XHRlcnJvckNvdW50ID0gMFxyXG5cdFx0Y29uc29sZS5sb2coJ3N0YXJ0IHdlcnlmaWthY2ppJylcclxuXHRcdHZlcmlmeUNhcHRjaGEoKVxyXG5cdH1cclxufVxyXG5cclxuY29uc3QgdmVyaWZ5Rm9ybXMgPSAoKSA9PiB7XHJcblx0Y2hlY2tJbnB1dChbbmFtZUZvcm0sIG1haWxGb3JtLCBwaG9uZUZvcm0sIG1lc3NhZ2VGb3JtXSlcclxuXHRjaGVja0Vycm9ycyhbbmFtZUZvcm0sIG1haWxGb3JtLCBwaG9uZUZvcm0sIG1lc3NhZ2VGb3JtXSlcclxufVxyXG5cclxuY29uc3QgdmVyaWZ5Q2FwdGNoYSA9ICgpID0+IHtcclxuXHRncmVjYXB0Y2hhLmV4ZWN1dGUoKVxyXG5cdHBvcHVwT3BlbigpXHJcbn1cclxuXHJcbi8vIFBPUFVQXHJcblxyXG5jb25zdCBwb3B1cE9wZW4gPSAoKSA9PiB7XHJcblx0cG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXAtc2hvdycpXHJcblx0c2hvd0VtYWlsQ29uZmlybWF0aW9uKClcclxufVxyXG5cclxuY29uc3Qgc2hvd0VtYWlsQ29uZmlybWF0aW9uID0gKCkgPT4ge1xyXG5cdGlmIChkb2N1bWVudC5sb2NhdGlvbi5zZWFyY2ggPT09ICc/bWFpbF9zdGF0dXM9c2VudCcpIHtcclxuXHRcdHBvcHVwT2suc3R5bGUuZGlzcGxheSA9ICdmbGV4J1xyXG5cdFx0cG9wdXBFcnJvci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcblx0fVxyXG5cclxuXHRpZiAoZG9jdW1lbnQubG9jYXRpb24uc2VhcmNoID09PSAnP21haWxfc3RhdHVzPWVycm9yJykge1xyXG5cdFx0cG9wdXBPay5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXHJcblx0XHRwb3B1cEVycm9yLnN0eWxlLmRpc3BsYXkgPSAnZmxleCdcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IGNsb3NlUG9wdXAgPSAoKSA9PiB7XHJcblx0cG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXAtc2hvdycpXHJcbn1cclxuXHJcbi8vIFpPT00gSU1BR0VTIE9GIEVWQUNVQVRJT04gUExBTlxyXG5cclxuY29uc3Qgem9vbVBsYW5JbWdNb2JpbGUgPSBpbWFnZSA9PiB7XHJcblx0Y29uc3Qgc3JjID0gaW1hZ2Uuc3JjXHJcblxyXG5cdHdpbmRvdy5vcGVuKHNyYylcclxufVxyXG5cclxuY29uc3Qgem9vbVBsYW5JbWdEZXNrdG9wID0gaW1hZ2UgPT4ge1xyXG5cdGNvbnN0IHNyYyA9IGltYWdlLnNyY1xyXG5cclxuXHRpbWFnZVpvb21TZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ2ltYWdlem9vbS1zaG93JylcclxuXHRpbWFnZVpvb20uc2V0QXR0cmlidXRlKCdzcmMnLCBzcmMpXHJcbn1cclxuXHJcbmNvbnN0IGNsb3NlWm9vbVNlY3Rpb24gPSAoKSA9PiB7XHJcblx0aW1hZ2Vab29tU2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdpbWFnZXpvb20tc2hvdycpXHJcblx0aW1hZ2Vab29tLnNldEF0dHJpYnV0ZSgnc3JjJywgJycpXHJcbn1cclxuXHJcbmNvbnN0IHpvb21JbWcgPSBlID0+IHtcclxuXHQvL3dza2F6dWplIHBvenljamUga3Vyc29yYVxyXG5cdGNvbnN0IHggPSBlLmNsaWVudFhcclxuXHRjb25zdCB5ID0gZS5jbGllbnRZXHJcblxyXG5cdC8vcG96eWNqYSBvYnJhenVcclxuXHRjb25zdCBpbWdYID0gaW1hZ2Vab29tLm9mZnNldExlZnQgKyAoaW1hZ2Vab29tU2VjdGlvbi5vZmZzZXRMZWZ0IC0gaW1hZ2Vab29tU2VjdGlvbi5vZmZzZXRXaWR0aCAvIDIpXHJcblx0Y29uc3QgaW1nWSA9IGltYWdlWm9vbS5vZmZzZXRUb3AgKyAoaW1hZ2Vab29tU2VjdGlvbi5vZmZzZXRUb3AgLSBpbWFnZVpvb21TZWN0aW9uLm9mZnNldEhlaWdodCAvIDIpXHJcblxyXG5cdC8vcG96eWNqYSBrdXJzb3JhIHdld27EhXRyeiBvYnJhemthXHJcblx0Y29uc3QgbmV3WCA9IChpbWdYIC0geCkgKiAtMVxyXG5cdGNvbnN0IG5ld1kgPSAoaW1nWSAtIHkpICogLTFcclxuXHJcblx0aW1hZ2Vab29tLnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9IGAke25ld1h9cHggJHtuZXdZfXB4YFxyXG5cclxuXHRpbWFnZVpvb20uY2xhc3NMaXN0LmFkZCgnem9vbWVkLWltYWdlJylcclxufVxyXG5cclxuY29uc3QgcmVzZXRJbWcgPSAoKSA9PiB7XHJcblx0aW1hZ2Vab29tLmNsYXNzTGlzdC5yZW1vdmUoJ3pvb21lZC1pbWFnZScpXHJcbn1cclxuXHJcbi8vQUREIEVWRU5UIExJU1RFTkVSU1xyXG5cclxuYnVyZ2VyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbmF2SGFuZGxpbmcpXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoKSA9PiB7XHJcblx0aWYgKHdpbmRvdy5pbm5lcldpZHRoIDwgOTkyKSB7XHJcblx0XHRuYXZCYWNrZ3JvdW5kQWRkTW9iaWxlKClcclxuXHR9IGVsc2Uge1xyXG5cdFx0bmF2QmFja2dyb3VuZEFkZERlc2t0b3AoKVxyXG5cdH1cclxufSlcclxuaGFuZGxlRGF0ZSgpXHJcbm5hdkhpZ2hsaWdodCgpXHJcblxyXG5pZiAoYWxsUGxhbkltYWdlcykge1xyXG5cdGFsbFBsYW5JbWFnZXMuZm9yRWFjaChpbWcgPT4ge1xyXG5cdFx0aW1nLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcblx0XHRcdGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8IDEyMDApIHtcclxuXHRcdFx0XHR6b29tUGxhbkltZ01vYmlsZShpbWcpXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0em9vbVBsYW5JbWdEZXNrdG9wKGltZylcclxuXHRcdFx0fVxyXG5cdFx0fSlcclxuXHR9KVxyXG59XHJcblxyXG5pZiAoaW1hZ2Vab29tKSB7XHJcblx0aW1hZ2Vab29tLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHpvb21JbWcpXHJcblx0aW1hZ2Vab29tLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgcmVzZXRJbWcpXHJcbn1cclxuXHJcbmlmICh6b29tQ2xvc2VCdG4pIHtcclxuXHR6b29tQ2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVpvb21TZWN0aW9uKVxyXG59XHJcblxyXG5pZiAoc2VuZEJ0bikge1xyXG5cdHNlbmRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKVxyXG5cdFx0dmVyaWZ5Rm9ybXMoKVxyXG5cdH0pXHJcbn1cclxuXHJcbmlmIChwb3B1cENsb3NlKSB7XHJcblx0cG9wdXBDbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlUG9wdXApXHJcbn1cclxuIl19
